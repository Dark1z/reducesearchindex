{% include 'overall_header.html' %}

{% INCLUDECSS '@dark1_reducesearchindex/dark1_rsi_acp_style.css' %}
{% INCLUDECSS '@dark1_reducesearchindex/DateTimePicker/anytime.css' %}
{% INCLUDEJS '@dark1_reducesearchindex/DateTimePicker/anytime.js' %}
{% INCLUDEJS '@dark1_reducesearchindex/DateTimePicker/anytimetz.js' %}
{% INCLUDEJS '@dark1_reducesearchindex/dark1_rsi_acp_script.js' %}

<h1>{{ RSI_EXT_NAME }}</h1>
<div>{{ lang('ACP_RSI_BY') }}&nbsp;{{ RSI_EXT_DEV }}</div>
<hr class="acp-rsi-hr">
<h2>{{ RSI_EXT_MODE }}</h2>

<form id="dark1_rsi_acp" name="dark1_rsi_acp" method="post" action="{{ U_ACTION }}">

	<fieldset>
		<legend>{{ lang('ACP_RSI_SET') }}</legend>
		<dl>
			<dt>
				<label for="dark1_rsi_auto_reduce_sync_enable">{{ lang('ACP_RSI_CRON_ENABLE') ~ lang('COLON') }}</label>
			</dt>
			<dd>
				<label><input type="radio" class="radio" name="dark1_rsi_auto_reduce_sync_enable" id="dark1_rsi_auto_reduce_sync_enable" value="1" {% if RSI_ENABLE_CRON %}checked="checked"{% endif %} /> {{ lang('YES') }}</label>
				<label><input type="radio" class="radio" name="dark1_rsi_auto_reduce_sync_enable" id="dark1_rsi_auto_reduce_sync_enable" value="0" {% if not RSI_ENABLE_CRON %}checked="checked"{% endif %} /> {{ lang('NO') }}</label>
			</dd>
		</dl>
		<dl>
			<dt>
				<label>{{ lang('ACP_RSI_CRON_INTERVAL') ~ lang('COLON') }}</label>
			</dt>
			<dd>
				<input type="number" min="1" max="999" size="3" maxlength="3" step="1" name="dark1_rsi_auto_reduce_sync_gc" value="{{ RSI_CRON_INTERVAL }}" style="width: 50px;" /> {{ lang('ACP_RSI_DAYS') }}
			</dd>
		</dl>
		<dl>
			<dt>
				<label for="dark1_rsi_auto_reduce_sync_last_gc">{{ lang('ACP_RSI_CRON_LAST_RUN') ~ lang('COLON') }}</label>
			</dt>
			<dd>
				<input type="text" name="dark1_rsi_auto_reduce_sync_last_gc" id="dark1_rsi_auto_reduce_sync_last_gc" value="{{ RSI_CRON_LAST_RUN }}" size="45" maxlength="80" />
				<br>
				<div>{{ lang('ACP_RSI_FORMAT') ~ lang('COLON') }} YYYY-MM-DD hh:ii:ss AA +/-zh:zm</div>
			</dd>
		</dl>
		<dl>
			<dt>
				<label>{{ lang('ACP_RSI_CRON_NEXT_RUN') ~ lang('COLON') }}</label>
			</dt>
			<dd>
				<input type="text" value="{{ RSI_CRON_NEXT_RUN }}" size="45" maxlength="80" disabled />
			</dd>
		</dl>
		<dl>
			<dt>
				<label>{{ lang('ACP_RSI_CRON_RUN') ~ lang('COLON') }}</label>
				<br><span class="responsive-hide">&nbsp;</span>
			</dt>
			<dd>
				<input class="button1" type="submit" name="runcrontask" value="{{ lang('ACP_RSI_CRON_RUN_NOW') }}" />
			</dd>
		</dl>
	</fieldset>

	<fieldset class="submit-buttons">
		<input class="button1" type="submit" id="submit" name="submit" value="{{ lang('SUBMIT') }}" />&nbsp;
		<input class="button2" type="reset" id="reset" name="reset" value="{{ lang('RESET') }}" />
		{{ S_FORM_TOKEN }}
	</fieldset>

	<script>
		var TimeFormat = "%Y-%m-%d %h:%i:%s %p %:";
		var mode = "{{ RSI_MODE|e('js') }}";
		var EarliestTimeAuto = "{{ RSI_CRON_PREV_RUN|e('js') }}";
	</script>

</form>

{% include 'overall_footer.html' %}
